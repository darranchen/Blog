---
layout: post
title: 统计思想系列-平均数引发的统计思考
date: 2014-08-2 05:24:00
categories: Statistics
tags: Significance  Statistics
keywords: Significance Statistics
---

这是统计思想系列第三篇文章，之前的第一篇文章是讨论 model fitting 和model prediction的问题, 第二篇是讨论显著性的问题.

* [统计思想系列-model fitting 和prediction之间不同][fitting]
* [统计思想系列-诡异的更显著性][significance]

这篇文章是我很早之前就想写的对于一个平均数引起的统计思考。这个问题来源很简单, 我们要做的一件事就是去猜一个班的平均分数，有个老师设计了一张考卷，他希望这次考试在全校的平均数是60分，于是找了一个班来测试，这次班里面平均考了61分，这个时候问题就来了，到底这张考卷的平均分会不会是60分啊，考了61分能不能说它很接近60分就把它当作是平均分是60分的考卷呢。 可以的话，那么如果这次平均考了70分呢?

对于这种很容易模糊的问题，统计很早就开始思考了，思考到底61分和60分的差距算不算大，而70分和60分又算不算大。如果要解决上面的问题就需要去考虑这个班里面成绩的标准差，也就是变异程度。经常会听到平均数加减两倍标准差，如果包括了60分，那么就没有证据证明它总体平均分不是60分。也就是如果标准差是1的话，那么 \[61-2, 61+2\]就包括了60分，统计上面就会觉得没有证据证明,就勉强接受了。如果这件事情错了呢，怎么办，错了代价有多高？ 统计上面能不能降低风险。  其实是可以的。就慢慢从统计思考开始吧!

这个老师希望这次考试在全校的平均分是60分，这件事情在其实是指全校的人都来考这次考试,考完之后平均分是60分，在统计上面就是母体的平均分为60 $\mu = 60$。统计上面对于这个问题的想法就是，假如 $\mu = 60$ 这个是成立的，那么我们观察到的61分这件事情发生的可能行是多少，如果可能性很低，那么拒绝掉假设 $\mu = 60$， 说母体的平均分不会是60， 否则就说不拒绝，变相的承认这件事。 将这个过程数学化就是先假设 $H_0$

$$ H_0: \mu =60 $$

爲了方便起見可以直接假設變異數 $\sigma^2 = 100$, 不假設也可以，後面的 test 變成t test 而已，而不是現在的 z-test. 那么在 $H_0$ 的假设下，学生的成绩 $x$ 是服从 Normal 分布的， 即 $x \sim N(\mu, \sigma^2)$. 这个班有10 个学生，那么我们观察到的10个学生的分数 $ x_1$, $\ldots$, $x10.$  都是服从 $N(\mu, \sigma^2)$. 假如这些分数都是独立的，也就是不会出现抄袭这类的情况， 计算 $x_1,\dots, x_{10}$ 在Normal 的假设下面出现的机率， 

$$ P(\{x_1,\ldots,x_{10}\}) = (\frac{1}{\sqrt{2\pi \sigma^2}})^{10} \exp{\{-\frac{\sum(x_i-\bar{x})^2-n(\bar{x}-\mu)^2}{2\sigma^2}\}} $$

根据分解原理， 由上面的式子可以看到 $\bar{x}$ 其实是 $\mu$ 的充分统计量，这里告诉我们如果要对母体平均数 $\mu $ 进行推断，也就是判断 $\mu$ 多少可以用样本平均来判断， 其中在 $H_0$ 假设下样本平均数 $\bar{x} \sim N(\mu, \frac{\sigma^2}{n})$, 计算我们看到的 $\bar{x}$ 的机率，

$$ P(\bar{x}) = \frac{\sqrt{n}}{\sqrt{2\pi\sigma^2}}\exp{\{-\frac{n(\bar{x}-\mu)^2}{2\sigma^2}\}} $$

有了这个机率值之后，那么我们怎么去判断到底要不要接受这个假设 $H_0$ 呢? 一般用统计方法都会说假设 $\alpha= 0.05$，这个数字是人为判定了，实际上面这个数字的意义在于，假定了 $H_0$ 为真的，如果我们得到的机率值 $P(\bar{x}) < \alpha$ , 我们拒绝掉了 $H_0$， 也就是做了错误的判断，这个时候我们的损失是多少。 回过头来考虑如何定义这个 $\alpha$ 值，那么我们要思考，如果我判断错了，把真的 $H_0$ 拒绝掉了的话，那么我能承受的损失是多少， 放在这个例子里面，这个老师设计了一份试卷，他觉得问卷的平均分是60分是很重要的一件事情，没有60分那么最多再重新设计一份试卷来考，那么就想要得到的机率值足够大才接受，也就是 $P(\bar{x})$ 小于一个比较大的 $\alpha$ 值的时候才拒绝原假设。另一个角度，这个老师觉得平均数没有60分也不是特别关键的事，那么就让机率值很低的时候再去拒绝原假设，也就是变得容易接受 平均数是60分这个事情。 那么就可以令 $\alpha$ 小一些。上面的 $\alpha$ 就是统计上面说的第一类型错误。 也就是错误的拒绝了真的 $H_0$。

这里还有一个问题， 如果我们接受了 $H_0$， 但是 $H_0$ 是假的，会造成什么问题?这里就是发生了错误的接受了家的 $H_0$.这个错误就是第二类型错误 $\beta$. 这个在选定了 $\alpha$值和对应的test 的时候就决定好了。我们希望第二类型错误 $\beta$ 尽量小， 另一个角度而言，就是统计上面的test 的power = 1-$\beta$ 尽可能的大， 所以对于同样检验平均数是否为60这件事上面，会有不同的test, 选择的test就是给定 $\alpha$ 值之后，使 power 最大的那个test. 这样的 test 叫做 UMP test (uniformly most power test). Type I error 和 Type II error 的关系如下图所示:

 ![error][]

 灰色斜纹区域是 $H_0$ 假设画出来的分布图， 假设这里的 Alternative hypothesis 是 $H_1$ 也就是拒绝了 $H_0$ 之后就会接受 $H_1$, 那么红色区块的面积就是 type II error $\beta$ 值。 可以看到当中间的线往右移动，也就是 $\alpha $变小，那么 $\beta$ 就会变大， 所以在选择 $\alpha$值的时候需要考虑的是到底 $\alpha$ 值比较重要还是 $\beta$值比较重要，也就是错误的接受的平均数是60,但是事实上不是60这件事情会很严重还是 错误的拒绝了平均数是60但是事实上是60这件事情严重。如果我是这个老师，那么我就会想说如果错误的拒绝了是60，那么我就要重新再出一张卷子，太麻烦了，所以就让 $\beta$小一点，也就是 $\alpha$大一点。

[fitting]: http://blog.xjchen.net/stat/statistics/2014/07/28/fitting-prediction/
[significance]: http://blog.xjchen.net/stat/statistics/2014/07/28/significance/
[error]: {{BASE_PATH}}/images/Statistical_thought/error.png
